<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <style>
        body{display: flex; justify-content: space-around;background-color: rgb(156, 116, 194);}
        div{display: flex; justify-content: space-around;position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);}
        input{max-width: 80%; width: 30em; padding: 1em;display: block;margin: 1em;}
        select{max-width: 80%; width: 40em; padding: 1em;display: block;margin: 1em;}
    
    </style>
</head>
<body>
    <div>
        <form action="/register/newUser" method="post">
            <input type="text" name="type" id="type" style="display: none;">
            <input type="text" name="name" placeholder="Name" required>
            <input type="text" name="location" placeholder="Location" required>

            <!-- <input type="text" name="org" placeholder="Organization">
            <input type="text" name="apt" placeholder="Apartment/Locality"> -->
            
            <input type="text" name="phone" placeholder="Phone" pattern="[0-9]{10}" required>
            <input type="email" name="uname" placeholder="Email" required>

            <input type="password" name="pword" id="pwd" placeholder="Password" required>
            
            <input style="width: 40em; background-color: rgb(156, 116, 194);color: white;border: 2px dashed white;" type="submit" onclick="hashing(this)" value="Register">
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.0.2/sha.js"></script>

    <script>
        var type = new URLSearchParams(window.location.search).get('type')
        var typeinput = document.getElementById('type')
        typeinput.value = type
        typeinput.display.style = "none"

        function hashing(obj) {
            var pwdObj = document.getElementById('pwd');
            var hashObj = new jsSHA("SHA-512", "TEXT", {numRounds: 1});
            hashObj.update(pwdObj.value);
            var hash = hashObj.getHash("HEX");
            pwdObj.value = hash;
        }
    </script>
</body>
</html>